<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Music Player</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    {% if platform and 'arm' in platform %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pi.css') }}">
    {% endif %}
    <style>
        /* Music control button styling for Pi compatibility */
        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
        }
        
        .control-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50%;
            width: 70px;
            height: 70px;
            font-size: 0.9em;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .control-btn:active {
            transform: scale(0.95);
        }
        
        .control-btn.play-pause {
            width: 90px;
            height: 90px;
            font-size: 1em;
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            box-shadow: 0 4px 20px rgba(76, 175, 80, 0.4);
        }
        
        .placeholder-art {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2em;
            font-weight: bold;
            margin: 0 auto 20px auto;
        }
        
        .icon-text {
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body class="music-screen" data-platform="{{ platform or '' }}">
    <div class="container">
        <header>
            <a href="/" class="back-button">&lt; Back</a>
            <h1>Music Player</h1>
        </header>
        
        <main class="music-player">
            <div class="connection-status" id="connection-status" style="text-align: center; margin-bottom: 15px;">
                <span id="status-indicator" style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background: #888; margin-right: 8px;"></span>
                <span id="status-text" style="color: #888;">Not connected</span>
            </div>
            
            <div class="now-playing">
                <div class="album-art">
                    <div class="placeholder-art" id="album-art">MUSIC</div>
                </div>
                <div class="track-info">
                    <h2 id="track-title">No track playing</h2>
                    <p id="track-artist">Connect a device to play music</p>
                </div>
            </div>
            
            <div class="controls">
                <button id="prev-btn" class="control-btn" aria-label="Previous">
                    <span class="icon-text">PREV</span>
                </button>
                <button id="play-pause-btn" class="control-btn play-pause" aria-label="Play/Pause">
                    <span class="icon-text" id="play-icon">PLAY</span>
                </button>
                <button id="next-btn" class="control-btn" aria-label="Next">
                    <span class="icon-text">NEXT</span>
                </button>
            </div>
            
            <div class="volume-control">
                <label>Volume</label>
                <input type="range" id="volume-slider" min="0" max="100" value="50">
                <span id="volume-value">50%</span>
            </div>
            
            <div class="bluetooth-section">
                <h3>Bluetooth Devices</h3>
                <button id="scan-btn" class="btn-primary">Scan for Devices</button>
                <div id="device-list" class="device-list"></div>
            </div>
        </main>
    </div>
    
    <script src="{{ url_for('static', filename='js/music.js') }}"></script>
    {% if platform and 'arm' in platform %}
    <script src="{{ url_for('static', filename='js/pi-touch.js') }}"></script>
    {% endif %}
</body>
</html>

